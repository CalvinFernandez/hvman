<div class='container col-fixed-sidebar'>
  <div class='row'>
    <div appear-tag class='topic-title-container'>
      <a href='/#/topics/{{topic.board.title}}'>
        <h1 class='topic-title big'> {{topic.board.title}} </h1>
      </a>
    </div>
    <div class='topic-title-bottom-container'>
      <a href='/#/topics/{{topic.board.title}}'> 
        <h1 class='topic-title-bottom'>  {{topic.board.title}}  </h1> 
      </a>  
    </div>
  </div>
  
  <div class='no-content' ng-show='!topic.posts.length'>
    <h1> no content </h1>    
  </div>

  <div infinite-scroll='nextPage()' infinite-scroll-disabled='busy' infinite-scroll-distance='1' class="col-md-12 infinite">
    <div class="post-glimpse" ng-repeat="post in topic.posts">
      <div class="row">
        <div class="col-md-1">
        </div>
        <div class="col-md-11">
          <div class="row">
            <div class="col-md-9">
              <a ng-hide="post.link" ng-href="/#/posts/{{post.id}}">
                <h1> {{post.title}} </h1><br>
              </a>
              <a ng-show="post.link" ng-href="{{post.link}}">
                <h1> {{post.title}} </h1><br>
              </a>
            </div>
          </div>
          <div class="row" ng-controller="PostsCtrl">
            <div class="col-md-9">
              <p ng-hide="more" ng-bind-html-unsafe='chomp(post.content)' class='lead'> 
              </p>
              <p ng-show="more" ng-bind-html-unsafe='post.content'> 
              </p>

              (<a href="" ng-hide="more" ng-click="more = !more"> more </a>
              <a href="" ng-show="more" ng-click="more = !more"> less </a>)

              <a href="" ng-hide="post.voted_for" ng-click="voteUp(post)"> &#9650;</a>
              <a href="" class="selected" ng-show="post.voted_for" ng-click="voteUp(post)"> &#9650;</a>
              <a href="" ng-hide="post.voted_against" ng-click="voteDown(post)"> &#9660;</a>
              <a href="" class="selected" ng-show="post.voted_against" ng-click="voteDown(post)"> &#9660;</a> &nbsp;&nbsp;&nbsp;&nbsp;
              <a ng-href="/#/posts/{{post.id}}">Comments</a>&nbsp;&nbsp;&nbsp;&nbsp;
              <a href="">Share</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
